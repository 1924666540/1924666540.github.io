{"version":3,"sources":["webpack:///./src/views/SearchPage.vue?7526","webpack:///src/views/SearchPage.vue","webpack:///./src/views/SearchPage.vue?e4fc","webpack:///./src/views/SearchPage.vue","webpack:///./src/views/SearchPage.vue?b27e"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","directives","name","rawName","value","expression","attrs","domProps","on","$event","type","indexOf","_k","keyCode","key","submit","serachingText","target","composing","goBack","_v","_l","item","index","class","itemClick","_s","data","text","_e","icon","title","content","cover","feed","category","hotsClick","staticRenderFns","component"],"mappings":"yHAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,eAAe,CAACF,EAAG,MAAM,CAACE,YAAY,UAAU,CAACF,EAAG,MAAM,CAACE,YAAY,gBAAgB,CAACF,EAAG,QAAQ,CAACG,WAAW,CAAC,CAACC,KAAK,QAAQC,QAAQ,UAAUC,MAAOV,EAAiB,cAAEW,WAAW,kBAAkBC,MAAM,CAAC,KAAO,OAAO,YAAc,iBAAiBC,SAAS,CAAC,MAASb,EAAiB,eAAGc,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAIA,EAAOC,KAAKC,QAAQ,QAAQjB,EAAIkB,GAAGH,EAAOI,QAAQ,QAAQ,GAAGJ,EAAOK,IAAI,SAAkB,KAAcpB,EAAIqB,OAAOrB,EAAIsB,gBAAgB,MAAQ,SAASP,GAAWA,EAAOQ,OAAOC,YAAqBxB,EAAIsB,cAAcP,EAAOQ,OAAOb,aAAYN,EAAG,MAAM,CAACE,YAAY,OAAOQ,GAAG,CAAC,MAAQd,EAAIyB,SAAS,CAACzB,EAAI0B,GAAG,UAAUtB,EAAG,aAAa,CAACQ,MAAM,CAAC,KAAO,SAAS,CAAEZ,EAAc,WAAEI,EAAG,MAAM,CAACE,YAAY,iBAAiB,CAACF,EAAG,KAAK,CAACE,YAAY,eAAeN,EAAI2B,GAAI3B,EAAiB,eAAE,SAAS4B,EAAKC,GAAO,OAAOzB,EAAG,KAAK,CAACgB,IAAIS,EAAMC,MAAM,CAAC,OAAoB,aAAXF,EAAKZ,MAAmBF,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOf,EAAI+B,UAAUH,MAAS,CAAa,YAAXA,EAAKZ,KAAkBZ,EAAG,MAAM,CAACE,YAAY,SAAS,CAACN,EAAI0B,GAAG1B,EAAIgC,GAAGJ,EAAKK,KAAKC,SAASlC,EAAImC,KAAiB,aAAXP,EAAKZ,KAAmBZ,EAAG,MAAM,CAACE,YAAY,YAAY,CAACF,EAAG,MAAM,CAACE,YAAY,QAAQ,CAACF,EAAG,MAAM,CAACQ,MAAM,CAAC,IAAMgB,EAAKK,KAAKG,KAAK,IAAM,QAAQhC,EAAG,MAAM,CAACE,YAAY,YAAY,CAACN,EAAI0B,GAAG1B,EAAIgC,GAAGJ,EAAKK,KAAKI,UAAUjC,EAAG,MAAM,CAACE,YAAY,OAAO,CAACF,EAAG,SAAS,CAACJ,EAAI0B,GAAG,aAAa1B,EAAImC,KAAiB,cAAXP,EAAKZ,KAAoBZ,EAAG,MAAM,CAACE,YAAY,cAAc,CAACF,EAAG,MAAM,CAACE,YAAY,SAAS,CAACF,EAAG,MAAM,CAACQ,MAAM,CAAC,IAAMgB,EAAKK,KAAKK,QAAQL,KAAKM,MAAMC,KAAK,IAAM,QAAQpC,EAAG,MAAM,CAACE,YAAY,WAAW,CAACF,EAAG,MAAM,CAACE,YAAY,SAAS,CAACN,EAAI0B,GAAG1B,EAAIgC,GAAGJ,EAAKK,KAAKK,QAAQL,KAAKI,UAAUjC,EAAG,MAAM,CAACE,YAAY,YAAY,CAACN,EAAI0B,GAAG,IAAI1B,EAAIgC,GAAGJ,EAAKK,KAAKK,QAAQL,KAAKQ,iBAAiBzC,EAAImC,UAAS,KAAK/B,EAAG,MAAM,CAACE,YAAY,cAAc,CAACF,EAAG,MAAM,CAACE,YAAY,SAAS,CAACN,EAAI0B,GAAG,WAAWtB,EAAG,KAAK,CAACE,YAAY,YAAYN,EAAI2B,GAAI3B,EAAQ,MAAE,SAAS4B,EAAKC,GAAO,OAAOzB,EAAG,KAAK,CAACgB,IAAIS,EAAMvB,YAAY,WAAWQ,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOf,EAAI0C,UAAUd,MAAS,CAAC5B,EAAI0B,GAAG1B,EAAIgC,GAAGJ,SAAW,QAAQ,IACplEe,EAAkB,G,YC8CtB,GACE,KADF,WAEI,MAAJ,CACM,cAAN,GACM,KAAN,GACM,iBAAN,KACM,YAAN,EACM,cAAN,GACM,YAAN,OAGE,MAAF,CACI,cADJ,WAEA,yBACQ,KAAR,iBAKE,QAAF,CACI,UADJ,SACA,GACA,qBACQ,KAAR,mCAEA,uBACQ,KAAR,cACU,KAAV,mBAGQ,KAAR,qCACQ,KAAR,uCAMI,UAjBJ,SAiBA,GACM,KAAN,gBACM,KAAN,WAEI,OArBJ,WAsBM,KAAN,eACM,KAAN,sCAEI,OAzBJ,SAyBA,GAAM,IAAN,OAEA,EAIM,KAAN,mGACA,kBACQ,EAAR,wBACQ,EAAR,8BACQ,EAAR,iBAPQ,OAAR,sBAYE,QA3DF,WA6DI,KAAJ,sCAEE,iBA/DF,SA+DA,OACI,EAAJ,4FACA,kBACM,OAAN,oBACM,GAAN,YACQ,EAAR,oBCnHoV,I,wBCQhVC,EAAY,eACd,EACA7C,EACA4C,GACA,EACA,KACA,WACA,MAIa,aAAAC,E,6CCnBf,yBAA2iB,EAAG,G","file":"js/chunk-1713ca73.786dd44a.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"search-page\"},[_c('div',{staticClass:\"header\"},[_c('div',{staticClass:\"search-input\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.serachingText),expression:\"serachingText\"}],attrs:{\"type\":\"text\",\"placeholder\":\"搜索视频、作者、用户及标签\"},domProps:{\"value\":(_vm.serachingText)},on:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.submit(_vm.serachingText)},\"input\":function($event){if($event.target.composing){ return; }_vm.serachingText=$event.target.value}}})]),_c('div',{staticClass:\"back\",on:{\"click\":_vm.goBack}},[_vm._v(\"取消\")])]),_c('transition',{attrs:{\"name\":\"fade\"}},[(_vm.showResult)?_c('div',{staticClass:\"search-result\"},[_c('ul',{staticClass:\"result-list\"},_vm._l((_vm.resultDataArr),function(item,index){return _c('li',{key:index,class:{'border':item.type=='briefCard'},on:{\"click\":function($event){return _vm.itemClick(item)}}},[(item.type=='textCard')?_c('div',{staticClass:\"title\"},[_vm._v(_vm._s(item.data.text))]):_vm._e(),(item.type=='briefCard')?_c('div',{staticClass:\"useritem\"},[_c('div',{staticClass:\"icon\"},[_c('img',{attrs:{\"src\":item.data.icon,\"alt\":\"\"}})]),_c('div',{staticClass:\"username\"},[_vm._v(_vm._s(item.data.title))]),_c('div',{staticClass:\"btn\"},[_c('button',[_vm._v(\"+关注\")])])]):_vm._e(),(item.type=='followCard')?_c('div',{staticClass:\"video-item\"},[_c('div',{staticClass:\"cover\"},[_c('img',{attrs:{\"src\":item.data.content.data.cover.feed,\"alt\":\"\"}})]),_c('div',{staticClass:\"content\"},[_c('div',{staticClass:\"title\"},[_vm._v(_vm._s(item.data.content.data.title))]),_c('div',{staticClass:\"category\"},[_vm._v(\"#\"+_vm._s(item.data.content.data.category))])])]):_vm._e()])}),0)]):_c('div',{staticClass:\"search-hot\"},[_c('div',{staticClass:\"title\"},[_vm._v(\"热搜关键词\")]),_c('ul',{staticClass:\"hot-list\"},_vm._l((_vm.hots),function(item,index){return _c('li',{key:index,staticClass:\"hot-item\",on:{\"click\":function($event){return _vm.hotsClick(item)}}},[_vm._v(_vm._s(item))])}),0)])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"search-page\">\r\n    <div class=\"header\">\r\n      <div class=\"search-input\">\r\n        <input type=\"text\" placeholder=\"搜索视频、作者、用户及标签\" v-model=\"serachingText\" v-on:keyup.enter=\"submit(serachingText)\">\r\n      </div>\r\n      <div class=\"back\" @click=\"goBack\">取消</div>\r\n    </div>\r\n    <transition name=\"fade\">\r\n    <div class=\"search-result\" v-if=\"showResult\"> \r\n      <ul class=\"result-list\">\r\n        <li v-for=\"(item, index) in resultDataArr\" :key=\"index\" :class=\"{'border':item.type=='briefCard'}\"\r\n          @click=\"itemClick(item)\">\r\n          <div class=\"title\" v-if=\"item.type=='textCard'\">{{item.data.text}}</div>\r\n          <div class=\"useritem\" v-if=\"item.type=='briefCard'\">\r\n            <div class=\"icon\">\r\n              <img :src=\"item.data.icon\" alt=\"\">\r\n            </div>\r\n            <div class=\"username\">{{item.data.title}}</div>\r\n            <div class=\"btn\">\r\n              <button>+关注</button>\r\n            </div>\r\n          </div>\r\n          <div class=\"video-item\" v-if=\"item.type=='followCard'\">\r\n            <div class=\"cover\">\r\n              <img :src=\"item.data.content.data.cover.feed\" alt=\"\">\r\n            </div>\r\n            <div class=\"content\">\r\n              <div class=\"title\">{{item.data.content.data.title}}</div>\r\n              <div class=\"category\">#{{item.data.content.data.category}}</div>\r\n            </div>\r\n          </div>\r\n        </li>\r\n      </ul>\r\n    </div>\r\n    <div class=\"search-hot\" v-else>\r\n      <div class=\"title\">热搜关键词</div>\r\n      <ul class=\"hot-list\">\r\n        <li class=\"hot-item\" v-for=\"(item, index) in hots\" :key=\"index\" @click='hotsClick(item)'>{{item}}</li>\r\n      </ul>\r\n    </div>\r\n    </transition>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import Vue from 'vue'\r\n  export default {\r\n    data() {\r\n      return {\r\n        serachingText: '',\r\n        hots: [],\r\n        searchResultData: null,\r\n        showResult: false,\r\n        resultDataArr: [],\r\n        nextPageUrl: null\r\n      }\r\n    },\r\n    watch: {\r\n      serachingText() {\r\n        if (this.serachingText == '') {\r\n          this.showResult = false\r\n        }\r\n      }\r\n    },\r\n\r\n    methods: {\r\n      itemClick(item) {\r\n        if (item.type == 'briefCard') {\r\n          this.$store.commit(\"setShowOverLay\", true);\r\n        }\r\n        if (item.type == 'followCard') {\r\n          this.$router.push({\r\n            path: \"/searchPlaying\"\r\n          });\r\n\r\n          this.$store.commit(\"setSearchPlaydata\", item);\r\n          this.$store.commit(\"setShowBottomBar\", false);\r\n\r\n        }\r\n\r\n\r\n      },\r\n      hotsClick(str) {\r\n        this.serachingText = str\r\n        this.submit(str)\r\n      },\r\n      goBack() {\r\n        this.$router.go(-1)\r\n        this.$store.commit(\"setShowBottomBar\", true);\r\n      },\r\n      submit(serachingText) {\r\n\r\n        if (!serachingText) {\r\n          window.console.log('kong')\r\n          return\r\n        }\r\n        this.axios.get(`https://api.kele8.cn/agent/http://baobab.kaiyanapp.com/api/v3/search?query=${serachingText}`)\r\n          .then(res => {\r\n            this.searchResultData = res.data\r\n            this.resultDataArr = res.data.itemList\r\n            this.showResult = true\r\n          })\r\n\r\n      }\r\n    },\r\n    created() {\r\n\r\n      this.$store.commit(\"setShowBottomBar\", false);\r\n    },\r\n    beforeRouteEnter(to, from, next) {\r\n      Vue.axios.get(`https://api.kele8.cn/agent/http://baobab.kaiyanapp.com/api/v3/queries/hot`)\r\n        .then(res => {\r\n          window.console.log(res.data)\r\n          next(vm => {\r\n            vm.hots = res.data\r\n          })\r\n        })\r\n\r\n    }\r\n\r\n  }\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.fade-enter-active,\r\n  .fade-leave-active {\r\n    transition: all .5s;\r\n  }\r\n\r\n  .fade-enter,\r\n  .fade-leave-to {\r\n    opacity: 0;\r\n   \r\n  }\r\n  .search-page {\r\n    .header {\r\n      padding: 10px;\r\n      display: flex;\r\n\r\n      .search-input {\r\n        flex: 1;\r\n        margin-right: 10px;\r\n\r\n        input {\r\n          width: 100%;\r\n          font-size: 12px;\r\n          padding: 5px 10px;\r\n          box-sizing: border-box;\r\n          outline: none;\r\n          border: none;\r\n          background-color: #e6e6e6;\r\n          border-radius: 3px;\r\n          color: #6b6b6b;\r\n        }\r\n      }\r\n\r\n      .back {\r\n        color: #6b6b6b;\r\n        font-size: 14px;\r\n        text-align: center;\r\n        line-height: 26px;\r\n        cursor: pointer;\r\n      }\r\n    }\r\n\r\n    .search-hot {\r\n      padding: 10px;\r\n\r\n      .title {\r\n\r\n        font-weight: bold;\r\n        font-size: 18px;\r\n      }\r\n\r\n      .hot-list {\r\n        .hot-item {\r\n          font-size: 14px;\r\n          color: #0366d6;\r\n          font-weight: bold;\r\n          padding: 10px 0;\r\n          cursor: pointer;\r\n        }\r\n      }\r\n    }\r\n\r\n    .search-result {\r\n      padding: 10px;\r\n\r\n      .result-list {\r\n        li {\r\n          padding: 10px 0;\r\n\r\n          &.border {\r\n            border-bottom: 1px solid #ddd;\r\n          }\r\n\r\n          .title {\r\n            font-size: 20px;\r\n            font-weight: bold;\r\n          }\r\n\r\n          .useritem {\r\n            display: flex;\r\n\r\n            .btn {\r\n              padding: 10px 0;\r\n              box-sizing: border-box;\r\n\r\n              button {\r\n                font-size: 14px;\r\n                outline: none;\r\n                border: 1px solid #666;\r\n                border-radius: 3px;\r\n                background-color: #fff;\r\n              }\r\n            }\r\n\r\n            .icon {\r\n              width: 40px;\r\n              height: 40px;\r\n              overflow: hidden;\r\n              border-radius: 50%;\r\n\r\n              img {\r\n                width: 100%;\r\n                display: block;\r\n              }\r\n            }\r\n\r\n            .username {\r\n              padding: 0 10px;\r\n              flex: 1;\r\n            }\r\n          }\r\n\r\n          .video-item {\r\n            display: flex;\r\n\r\n            .cover {\r\n              flex: 1;\r\n              border-radius: 5px;\r\n              overflow: hidden;\r\n\r\n              img {\r\n\r\n                width: 100%;\r\n                display: block;\r\n              }\r\n            }\r\n\r\n            .content {\r\n              padding-left: 10px;\r\n              flex: 1;\r\n              position: relative;\r\n\r\n              .title {\r\n                font-size: 16px;\r\n              }\r\n\r\n              .category {\r\n                position: absolute;\r\n                bottom: 0;\r\n                left: 10px;\r\n                font-size: 14px;\r\n              }\r\n            }\r\n\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SearchPage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SearchPage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SearchPage.vue?vue&type=template&id=22bc4c48&scoped=true&\"\nimport script from \"./SearchPage.vue?vue&type=script&lang=js&\"\nexport * from \"./SearchPage.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SearchPage.vue?vue&type=style&index=0&id=22bc4c48&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"22bc4c48\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SearchPage.vue?vue&type=style&index=0&id=22bc4c48&lang=less&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SearchPage.vue?vue&type=style&index=0&id=22bc4c48&lang=less&scoped=true&\""],"sourceRoot":""}